<template name="productGrid">
<div class="product-grid-container">
  <div class="product-grid" data-event-category="grid" data-event-action="generic-click" data-event-label="product grid click">
    <ul class="product-grid-list list-unstyled" id="product-grid-list">
    {{#each products}}
      {{> productGridItems}}
    {{/each}}
    </ul>
  </div>
</div>
</template>

<template name="productGridItems">
  <li class="thumbnail product-grid-item" data-id="{{_id}}" id="{{_id}}">
    {{#if cart.showItemLowInventoryWarning variants.[0]}}
    <div class="badge badge-low-inv-warning" title="">{{variants.[0].inventoryQuantity}} Left!</div>
    {{/if}}
    <div>
      <a href="{{pathForSEO 'product' 'handle'}}" data-event-category="grid" data-event-action="product-click" data-event-label="Grid product click" data-event-value="{{_id}}">
      {{#with media}}
        <img src="{{url}}" class="product-grid-item-images img-responsive">
      {{else}}
        <img src="../../resources/placeholder.jpeg" class="product-grid-item-images img-responsive">
      {{/with}}
      </a>
    </div>
    <div class="overlay">
      {{#if userHasRole "admin"}}
        <span class="positioning pull-left" title="Positioning">{{sortOrder}}</span>
        {{#unless isVisible}}<span class="fa fa-eye-slash fa-lg overlay-icon pull-left" title="Publish"></span>{{/unless}}
        <span class="fa fa-code-fork fa-rotate-180 fa-lg clone-product overlay-icon pull-left" title="Clone product"></span>
        <span class="fa fa-trash-o delete-product fa-lg overlay-icon pull-right" title="Delete product"></span>
      {{/if}}
      <div class="overlay-content">
          {{title}} ${{variants.[0].price}}
      </div>
    </div>
  </li>
</template>

<template name="gridImage">
  <img src="{{url}}" class="product-grid-item-images img-responsive">
</template>

<template name="noImage">
  <img src="../../resources/placeholder.jpeg" class="product-grid-item-images img-responsive">
</template>