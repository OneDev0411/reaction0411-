<template name="productListGrid">
  <div class="row">
    {{#if currentTag}}
      {{>tags currentTag}}
    {{else}}
      {{>tags}}
    {{/if}}
    <a id="productGridView"> <i class="fa fa-th-large fa-2x pull-right"></i></a>
    <a id="productListView"> <i class="fa fa-th-list fa-2x pull-right"></i></a>
    {{#if isInRole 'admin'}}
      <a href="#" class="add-product-link fa fa-plus fa-2x pull-right"></a>
    {{/if}}
  </div>
  <div class="row">
    {{>productGrid}}
    {{>productList}}
  </div>
</template>

<template name="productList">
  <div class="product-list">
    <table class="table table-hover">
      <tbody>
        {{#each products}}
        <tr>
          <td>
            <img src="{{variants.[0].medias.[0].src}}" height="100px" width="100px">
          </td>
          <td>
            <a href="{{pathFor 'shop/product'}}">{{title}}</a>
          </td>
          <td>{{{bodyHtml}}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="productGrid">
  <div class="product-grid" data-event-category="grid" data-event-action="generic-click" data-event-label="product grid click">
    {{#each products}}
      {{> productGridItems}}
    {{/each}}
  </div>
</template>


<template name="productGridItems">
<div id="{{_id}}" class="thumbnail">
  <a href="{{pathFor 'shop/product'}}" data-event-category="grid" data-event-action="product-click" data-event-label="Grid product click" data-event-value="{{_id}}">
    <img src="{{variants.[0].medias.[0].src}}">
    {{#unless isVisible}}
      <i class="fa fa-eye-slash"></i>
    {{/unless}}
    <h2>{{title}} ${{variants.[0].price}}</h2>
  </a>
</div>
</template>


<template name="productListAdd">
  <div>
    <i class="fa fa-plus fa-5x"></i>
    <div class="content">
      <p class="big">Add</p>
      <a href="{{pathFor 'shop/product/new'}}"><p class="title">Add new product</p></a>
    </div>
  </div>
</template>
