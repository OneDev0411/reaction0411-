<template name="cartDrawer">
{{#isolate}}
  <div class="cart-drawer" id="cart-drawer">
    <div class="owl-carousel">
        {{#if cartItems}}
          {{>cartSubTotals}}
        {{/if}}
        {{#each cartItems}}
          {{>cartItems}}
        {{/each}}
    </div>
    {{#unless cartItems}}
      <div class="cart-items">
        <h1><i class="fa fa-frown-o fa-lg"></i><strong><p>We're sad. Your cart is empty.</p></strong></h1>
      </div>
    {{else}}
     <a href="{{pathFor "shoppingCartCheckout"}}" class="btn btn-success btn-lg btn-block" id="btn-checkout">
      Checkout now
    </a>
    {{/unless}}
  </div>
{{/isolate}}
</template>

<template name="cartItems">
<div class="cart-items">
  <div class="img-thumbnail">
    <a href="#"><span class="fa fa-times fa-lg pull-right remove-cart-item" id="{{_id}}"></span></a>
      <a href="{{pathFor 'shop/product' variant=variants._id}}" data-event-category="cart" data-event-action="product-click" data-event-label="Cart product click" data-event-value="{{productId}}">
        <img src="{{getVariantImage variants}}" alt="{{variants.title}}" class="cart-image">
      </a>
  </div>
  <div>
  <div class="cart-labels">
    <span class="badge">{{quantity}}</span>
    <span>{{variants.title}}</span>
  </div>
  </div>
</div>
</template>

<template name="cartSubTotals">
<div class="thumbnail">
  <div class="cart-totals">
    <table class="table table-condensed">
      <thead>Your cart</thead>
      <tr><td>Items in cart</td><td>{{cartCount}}</td></tr>
      <tr><td>Sub total</td><td>{{subTotal}}</td></tr>
      <tr><td>Est. Shipping</td><td>{{estShipping}}</td></tr>
      <tr><td>Est. Taxes</td><td>{{estTaxes}}</td></tr>
      <tr><td>Est. Total</td><td>{{cartTotal}}</td></tr>
    </table>
  </div>
</div>
</template>