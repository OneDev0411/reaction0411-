<template name="shopMember">
<div class="row">
  <div class="col-sm-2">
    <div class="shop-member-profile">
      {{> avatar user=this size="large" shape="circle"}}
      {{displayName this}}
      {{email}}
      {{#if hasOwnerAccess}}
      <a class="link-shop-member-remove" data-confirm="Are you sure you want to remove all permissions?">
        <i class="fa fa-eraser"></i>
      </a>
      {{/if}}
    </div>
  </div>

  <div class="col-sm-10 shop-member-groups">
  {{#each groupsForUser}}
    <div class="row">
      <label>{{shopLabel}}</label>
      {{#each permissionGroups}}
        <div class="shop-member-group">

          <input type="checkbox" class="toggle-shop-member-permission"
                 data-userId="{{../../userId}}"
                 data-permission="{{name}}"
                 {{hasPermissionChecked name ../../userId}}
                 {{isOwnerDisabled ../../userId}}
                 />
          <span data-toggle="collapse" href="#collapse-{{name}}-{{../../userId}}" aria-expanded="false" aria-controls="collapse-{{name}}-{{../../userId}}">
            <label>
              {{label}}
            </label>
          </span>

          <div class="collapse shop-member-permissions" id="collapse-{{name}}-{{../../userId}}">
            <ul class="list-inline shop-member-permissions">
              {{#each permissions}}
                <li class="list-group-item shop-member-permission">
                  <label>
                    <input class="toggle-shop-member-permission"
                           type="checkbox"
                           data-userId="{{../../../userId}}"
                           data-permission="{{permission}}"
                           {{hasPermissionChecked permission ../../../userId}}
                           {{isOwnerDisabled ../../../userId}}
                            />
                    {{label}}
                  </label>
                </li>
              {{/each}}
            </ul>
          </div>

        </div>
      {{/each}}
      </div>
    {{/each}}
  </div>
</div>
</template>
