<template name="settingsGeneral">
<h2>Shop <small data-18n="app.settings">Settings</small></h2>
<div class="col-md-5">
<ul class="nav nav-tabs">
  <li class="active"><a href="#general" data-toggle="tab">General</a></li>
  <li><a href="#address" data-toggle="tab">Address</a></li>
  <li><a href="#smtp" data-toggle="tab">SMTP</a></li>
  <li><a href="#settings" data-toggle="tab">Settings</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active" id="general">
    <div class="well">
    {{#autoForm collection="Shops" doc=. id="shopEditForm" type="update"}}
      {{> afQuickField name='name' placeholder="Shop Name"}}
      {{> afQuickField name='email' placeholder="Primary Contact Email"}}
      {{> afQuickField name='description' placeholder="Description"}}
      {{> afQuickField name='keywords' placeholder="Keywords"}}
      {{> afQuickField name='canCheckoutAsGuest'}}
      {{> settingsGeneralSubmitButton}}
    {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="address">
    <div class="well">
      {{#autoForm collection="Shops" doc=. id="shopEditAddressForm" type="update"}}
        {{> afQuickField name='addressBook.0.company'}}
        {{> afQuickField name='addressBook.0.fullName'}}
        {{> afQuickField name='addressBook.0.address1'}}
        {{> afQuickField name='addressBook.0.address2'}}
        {{> afQuickField name='addressBook.0.city'}}
        {{> afQuickField name='addressBook.0.region'}}
        {{> afQuickField name='addressBook.0.postal'}}
        {{> afQuickField name='addressBook.0.country' options=countryOptions}}
        {{> afQuickField name='addressBook.0.phone'}}
        {{> afQuickField name='addressBook.0.isCommercial'}}
        {{> afQuickField name='addressBook.0.isDefault' value=true}}
        {{> settingsGeneralSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="smtp">
    <div class="well">
      {{#autoForm collection="Shops" doc=. id="shopEditEmailForm" type="update"}}
        {{> afQuickFields fields="customEmailSettings.username,customEmailSettings.password,customEmailSettings.host,customEmailSettings.port"}}
        {{> settingsGeneralSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="settings">
    <div class="well">
      {{#autoForm collection="Shops" doc=. id="shopEditSettingsForm" type="update"}}
        {{> afQuickField name='timezone' options=timezoneOptions}}
        {{> afQuickField name='currency' options=currencyOptions}}
        {{> afQuickField name='baseUOM' options=uomOptions}}
        {{> settingsGeneralSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
</div>
</div>
</template>

<template name="settingsGeneralSubmitButton">
  <div class="clearfix">
    <button type="submit" class="btn btn-primary pull-right">Submit</button>
  </div>
</template>
