<template name="shopSettings">
<h2>Shop <small data-18n="app.settings">Settings</small></h2>
<div class="col-md-5">
<ul class="nav nav-tabs">
  <li class="active"><a href="#general" data-toggle="tab">General</a></li>
  <li><a href="#address" data-toggle="tab">Address</a></li>
  <li><a href="#mail" data-toggle="tab">Mail</a></li>
  <li><a href="#localization" data-toggle="tab">Localization</a></li>
  <li><a href="#options" data-toggle="tab">Options</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active" id="general">
    <div class="well">
    {{#autoForm collection="Shops" doc=. id="shopEditForm" type="update"}}
      {{> afQuickField name='name' placeholder="Shop Name"}}
      {{> afQuickField name='email' placeholder="Primary Contact Email"}}
      {{> afQuickField name='description' placeholder="Description"}}
      {{> afQuickField name='keywords' placeholder="Keywords"}}
      {{> shopSettingsSubmitButton}}
    {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="address">
    <div class="well">
      {{#autoForm collection="Shops" doc=. id="shopEditAddressForm" type="update"}}
        {{> afQuickField name='addressBook.0.company'}}
        {{> afQuickField name='addressBook.0.fullName'}}
        {{> afQuickField name='addressBook.0.address1'}}
        {{> afQuickField name='addressBook.0.address2'}}
        {{> afQuickField name='addressBook.0.city'}}
        {{> afQuickField name='addressBook.0.region'}}
        {{> afQuickField name='addressBook.0.postal'}}
        {{> afQuickField name='addressBook.0.country' options=countryOptions}}
        {{> afQuickField name='addressBook.0.phone'}}
        {{> afQuickField name='addressBook.0.isCommercial'}}
        {{> afQuickField name='addressBook.0.isShippingDefault' value=true}}
        {{> afQuickField name='addressBook.0.isBillingDefault' value=true}}
        {{> shopSettingsSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="mail">
    <div class="well">
      {{#autoForm collection="ReactionCore.Collections.Packages" schema="ReactionCore.Schemas.CorePackageConfig" doc=packageData id="shopEditEmailForm" type="update"}}
        {{> afQuickField name='settings.mail.user'}}
        {{> afQuickField name='settings.mail.password'}}
        {{> afQuickField name='settings.mail.host'}}
        {{> afQuickField name='settings.mail.port'}}
        {{> shopSettingsSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="localization">
    <div class="well">
      {{#autoForm collection="Shops" doc=. id="shopEditSettingsForm" type="update"}}
        {{> afQuickField name='timezone' options=timezoneOptions}}
        {{> afQuickField name='currency' options=currencyOptions}}
        {{> afQuickField name='baseUOM' options=uomOptions}}
        {{> shopSettingsSubmitButton}}
      {{/autoForm}}
    </div>
  </div>
  <div class="tab-pane" id="options">
    <div class="well">
      {{#autoForm collection="ReactionCore.Collections.Packages" schema="ReactionCore.Schemas.CorePackageConfig" doc=packageData id="shopEditOptionsForm" type="update"}}
        {{> afFieldInput name='settings.public.allowGuestCheckout'}}
        {{> shopSettingsSubmitButton}}
      {{/autoForm}}
    </div>
  </div>


</div>
</div>
</template>

<template name="shopSettingsSubmitButton">
  <div class="clearfix">
    <button type="submit" class="btn btn-primary pull-right">Submit</button>
  </div>
</template>
