<template name="addressBookAdd">
<div class="panel-heading">
  <h3 class="panel-title">
    {{#if addressBook}}
      <span data-i18n="addressBookAdd.addAddress">Add address</span>
    {{else}}
      <span data-i18n="addressBookAdd.createAddress">Create address</span>
    {{/if}}
  </h3>
</div>
<div class="panel-body">
{{#autoForm schema="ReactionCore.Schemas.Address" id="addressBookForm" type="method" meteormethod="addressBookAdd" resetOnSuccess=false}}
  <fieldset>
      {{>addressBookForm}}
      <div class="row text-right">
            <button type="submit" class="btn btn-primary" data-i18n="app.saveAndContinue">Save and continue</button>
            {{#if addressBook}}
            <button type="reset" class="btn btn-default" id="cancel-new" data-i18n="app.cancel">Cancel</button>
            {{/if}}
      </div>
  </fieldset>
{{/autoForm}}
</div>
</template>

<template name="addressBookForm">
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='country'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='country'}}</label>
      {{>afFieldInput name="country" options=countryOptions value=defaultCountry}}
      {{#if afFieldIsInvalid name="country"}}
      <span class="help-block">{{afFieldMessage name="country"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='fullName'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='fullName'}}</label>
      {{>afFieldInput name="fullName" value=defaultName autofocus=''}}
      {{#if afFieldIsInvalid name="fullName"}}
      <span class="help-block">{{afFieldMessage name="fullName"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='address1'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='address1'}}</label>
      {{>afFieldInput name="address1"}}
      {{#if afFieldIsInvalid name="address1"}}
      <span class="help-block">{{afFieldMessage name="address1"}}</span>
      {{/if}}
  </div>
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='address2'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='address2'}}</label>
      {{>afFieldInput name="address2"}}
      {{#if afFieldIsInvalid name="address2"}}
      <span class="help-block">{{afFieldMessage name="address2"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='postal'}} has-error{{/if}}">
    <label class="control-label">{{afFieldLabelText name='postal'}}</label>
    {{>afFieldInput name="postal" value=defaultPostal}}
    {{#if afFieldIsInvalid name="postal"}}
    <span class="help-block">{{afFieldMessage name="postal"}}</span>
    {{/if}}
  </div>
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='city'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='city'}}</label>
      {{>afFieldInput name="city" value=defaultCity}}
      {{#if afFieldIsInvalid name="city"}}
      <span class="help-block">{{afFieldMessage name="city"}}</span>
      {{/if}}
  </div>
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='region'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='region'}}</label>
      {{>afFieldInput name="region" value=defaultRegion}}
      {{#if afFieldIsInvalid name="region"}}
      <span class="help-block">{{afFieldMessage name="region"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='phone'}} has-error{{/if}}">
      <label class="control-label">{{afFieldLabelText name='phone'}}</label>
      {{>afFieldInput name="phone"}}
      {{#if afFieldIsInvalid name="phone"}}
      <span class="help-block">{{afFieldMessage name="phone"}}</span>
      {{/if}}
  </div>
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='isCommercial'}} has-error{{/if}}">
      <label class="control-label"></label>
      {{>afFieldInput name="isCommercial"}}
      {{#if afFieldIsInvalid name="isCommercial"}}
      <span class="help-block">{{afFieldMessage name="isCommercial"}}</span>
      {{/if}}
  </div>
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='isShippingDefault'}} has-error{{/if}}">
      <label class="control-label"></label>
      {{>afFieldInput name="isShippingDefault"}}
      {{#if afFieldIsInvalid name="isShippingDefault"}}
      <span class="help-block">{{afFieldMessage name="isShippingDefault"}}</span>
      {{/if}}
  </div>
   <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='isBillingDefault'}} has-error{{/if}}">
      <label class="control-label"></label>
      {{>afFieldInput name="isBillingDefault"}}
      {{#if afFieldIsInvalid name="isBillingDefault"}}
      <span class="help-block">{{afFieldMessage name="isBillingDefault"}}</span>
      {{/if}}
  </div>
</div>
</template>