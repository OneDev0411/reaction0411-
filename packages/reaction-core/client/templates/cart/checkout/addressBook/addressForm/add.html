<template name="addressBookAdd">
<div class="panel-heading">
  <h3 class="panel-title">
    {{#if addressBook}}
      {{i18n 'addressBookAdd.add-address'}}
    {{else}}
      <span>{{i18n 'addressBookAdd.create-address'}}</span>
    {{/if}}
  </h3>
</div>
<div class="panel-body">
{{#autoForm schema="ReactionCore.Schemas.Address" id="addressBookForm" type="method" meteormethod="addressBookAdd"}}
  <fieldset>
      {{>addressBookForm}}
      <div class="row text-right">
            <button type="submit" class="btn btn-primary">{{i18n 'app.save-and-continue'}}</button>
            {{#if addressBook}}
            <button type="reset" class="btn btn-default" id="cancel-new">{{i18n 'app.cancel'}}</button>
            {{/if}}
      </div>
  </fieldset>
{{/autoForm}}
</div>
</template>

<template name="addressBookForm">
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='country'}} has-error{{/if}}">
      {{>afFieldLabel name="country" class="control-label"}}
      {{>afFieldInput name="country" options=countryOptions value=defaultCountry}}
      {{#if afFieldIsInvalid name="country"}}
      <span class="help-block">{{afFieldMessage name="country"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='fullName'}} has-error{{/if}}">
      {{>afFieldLabel name="fullName" class="control-label"}}
      {{>afFieldInput name="fullName" value=defaultName autofocus=''}}
      {{#if afFieldIsInvalid name="fullName"}}
      <span class="help-block">{{afFieldMessage name="fullName"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='address1'}} has-error{{/if}}">
      {{>afFieldLabel name="address1" class="control-label"}}
      {{>afFieldInput name="address1"}}
      {{#if afFieldIsInvalid name="address1"}}
      <span class="help-block">{{afFieldMessage name="address1"}}</span>
      {{/if}}
  </div>
  <div class="col-md-6 form-group{{#if afFieldIsInvalid name='address2'}} has-error{{/if}}">
      {{>afFieldLabel name="address2" class="control-label"}}
      {{>afFieldInput name="address2"}}
      {{#if afFieldIsInvalid name="address2"}}
      <span class="help-block">{{afFieldMessage name="address2"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='postal'}} has-error{{/if}}">
    {{>afFieldLabel name="postal" class="control-label"}}
    {{>afFieldInput name="postal" value=defaultPostal}}
    {{#if afFieldIsInvalid name="postal"}}
    <span class="help-block">{{afFieldMessage name="postal"}}</span>
    {{/if}}
  </div>
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='city'}} has-error{{/if}}">
      {{>afFieldLabel name="city" class="control-label"}}
      {{>afFieldInput name="city" value=defaultCity}}
      {{#if afFieldIsInvalid name="city"}}
      <span class="help-block">{{afFieldMessage name="city"}}</span>
      {{/if}}
  </div>
  <div class="col-md-4 form-group{{#if afFieldIsInvalid name='region'}} has-error{{/if}}">
      {{>afFieldLabel name="region" class="control-label"}}
      {{>afFieldInput name="region" value=defaultRegion}}
      {{#if afFieldIsInvalid name="region"}}
      <span class="help-block">{{afFieldMessage name="region"}}</span>
      {{/if}}
  </div>
</div>
<div class="row">
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='phone'}} has-error{{/if}}">
        {{>afFieldLabel name="phone" class="control-label"}}
        {{>afFieldInput name="phone"}}
        {{#if afFieldIsInvalid name="phone"}}
        <span class="help-block">{{afFieldMessage name="phone"}}</span>
        {{/if}}
  </div>
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='isCommercial'}} has-error{{/if}}">
      <label class="control-label"></label>
      {{>afFieldInput name="isCommercial"}}
      {{#if afFieldIsInvalid name="isCommercial"}}
      <span class="help-block">{{afFieldMessage name="isCommercial"}}</span>
      {{/if}}
  </div>
  <div class="col-sm-4 col-md-4 form-group{{#if afFieldIsInvalid name='isDefault'}} has-error{{/if}}">
      <label class="control-label"></label>
      {{>afFieldInput name="isDefault"}}
      {{#if afFieldIsInvalid name="isDefault"}}
      <span class="help-block">{{afFieldMessage name="isDefault"}}</span>
      {{/if}}
  </div>
</div>
</template>