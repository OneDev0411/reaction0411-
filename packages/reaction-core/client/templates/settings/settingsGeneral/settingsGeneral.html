<template name="settingsGeneral">
  <div class="container">
    <h2>Shop<small>Settings</small></h2>
    {{#autoForm schema=shopEditForm doc=shop id="shopEditForm" class="form-horizontal"}}

      <fieldset>
        <div class="form-group {{#if afFieldIsInvalid "name"}}has-error{{/if}}">
          {{afFieldLabel 'name' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'name'}}
            {{#if afFieldIsInvalid "name"}}
              <span class="help-block">{{afFieldMessage "name"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "email"}}has-error{{/if}}">
          {{afFieldLabel 'email' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'email'}}
            {{#if afFieldIsInvalid "email"}}
              <span class="help-block">{{afFieldMessage "email"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.fullName"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.fullName' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.fullName'}}
            {{#if afFieldIsInvalid "addressBook.0.fullName"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.fullName"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.company"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.company' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.company'}}
            {{#if afFieldIsInvalid "addressBook.0.company"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.company"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.address1"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.address1' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.address1'}}
            {{#if afFieldIsInvalid "addressBook.0.address1"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.address1"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.address2"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.address2' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.address2'}}
            {{#if afFieldIsInvalid "addressBook.0.address2"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.address2"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.city"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.city' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.city'}}
            {{#if afFieldIsInvalid "addressBook.0.city"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.city"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.region"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.region' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.region'}}
            {{#if afFieldIsInvalid "addressBook.0.region"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.region"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.postal"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.postal' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.postal'}}
            {{#if afFieldIsInvalid "addressBook.0.postal"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.postal"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "addressBook.0.country"}}has-error{{/if}}">
          {{afFieldLabel 'addressBook.0.country' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'addressBook.0.country' options=countryOptions value=defaultCountry autofocus=''}}
            {{#if afFieldIsInvalid "addressBook.0.country"}}
              <span class="help-block">{{afFieldMessage "addressBook.0.country"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "domains"}}has-error{{/if}}">
          {{afFieldLabel 'domains' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'domains'}}
            {{#if afFieldIsInvalid "domains"}}
              <span class="help-block">{{afFieldMessage "domains"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "timezone"}}has-error{{/if}}">
          {{afFieldLabel 'timezone' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-5 controls">
            {{afFieldInput 'timezone' options=timezoneOptions}}
            {{#if afFieldIsInvalid "timezone"}}
              <span class="help-block">{{afFieldMessage "timezone"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "currency"}}has-error{{/if}}">
          {{afFieldLabel 'currency' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-1 controls">
            {{afFieldInput 'currency'}}
            {{#if afFieldIsInvalid "currency"}}
              <span class="help-block">{{afFieldMessage "currency"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "moneyFormat"}}has-error{{/if}}">
          {{afFieldLabel 'moneyFormat' class="col-sm-2 col-lg-1 control-label"}}
          <div class="col-sm-1 controls">
            {{afFieldInput 'moneyFormat'}}
            {{#if afFieldIsInvalid "moneyFormat"}}
              <span class="help-block">{{afFieldMessage "moneyFormat"}}</span>
            {{/if}}
          </div>
        </div>

        <div class="form-group {{#if afFieldIsInvalid "useCustomEmailSettings"}}has-error{{/if}}">
          <div class="col-sm-5 col-sm-offset-1">
            {{afFieldInput 'useCustomEmailSettings' id="useCustomEmailSettings"}}
            {{#if afFieldIsInvalid "useCustomEmailSettings"}}
              <span class="help-block">{{afFieldMessage "useCustomEmailSettings"}}</span>
            {{/if}}

            <div class="useCustomEmailSettings"{{#unless _doc.useCustomEmailSettings}} style="display:
            none"{{/unless}}>
              <div class="form-group {{#if afFieldIsInvalid "customEmailSettings.username"}}has-error{{/if}}">
                {{afFieldLabel 'customEmailSettings.username' class="col-sm-2 col-lg-2 control-label"}}
                <div class="col-sm-10 controls">
                  {{afFieldInput 'customEmailSettings.username'}}
                  {{#if afFieldIsInvalid "customEmailSettings.username"}}
                    <span class="help-block">{{afFieldMessage "customEmailSettings.username"}}</span>
                  {{/if}}
                </div>
              </div>

              <div class="form-group {{#if afFieldIsInvalid "customEmailSettings.password"}}has-error{{/if}}">
                {{afFieldLabel 'customEmailSettings.password' class="col-sm-2 col-lg-2 control-label"}}
                <div class="col-sm-10 controls">
                  {{afFieldInput 'customEmailSettings.password' type="password"}}
                  {{#if afFieldIsInvalid "customEmailSettings.password"}}
                    <span class="help-block">{{afFieldMessage "customEmailSettings.password"}}</span>
                  {{/if}}
                </div>
              </div>

              <div class="form-group {{#if afFieldIsInvalid "customEmailSettings.host"}}has-error{{/if}}">
                {{afFieldLabel 'customEmailSettings.host' class="col-sm-2 col-lg-2 control-label"}}
                <div class="col-sm-10 controls">
                  {{afFieldInput 'customEmailSettings.host'}}
                  {{#if afFieldIsInvalid "customEmailSettings.host"}}
                    <span class="help-block">{{afFieldMessage "customEmailSettings.host"}}</span>
                  {{/if}}
                </div>
              </div>

              <div class="form-group {{#if afFieldIsInvalid "customEmailSettings.port"}}has-error{{/if}}">
                {{afFieldLabel 'customEmailSettings.port' class="col-sm-2 col-lg-2 control-label"}}
                <div class="col-sm-10 controls">
                  {{afFieldInput 'customEmailSettings.port' options=portOptions}}
                  {{#if afFieldIsInvalid "customEmailSettings.port"}}
                    <span class="help-block">{{afFieldMessage "customEmailSettings.port"}}</span>
                  {{/if}}
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="col-sm-6">
        <button type="submit" class="btn btn-primary update pull-right">Save</button>
      </div>
      </fieldset>
    {{/autoForm}}
  </div>
</template>
