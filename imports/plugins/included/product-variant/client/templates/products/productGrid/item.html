<template name="productGridItems">
  <li class="product-grid-item {{#if positions.pinned}}pinned{{/if}} {{weightClass}} {{isSelected}}" data-id="{{_id}}" id="{{_id}}">
    <span class="product-grid-item-alerts">
      {{> inlineAlerts placement="productGridItem" id=_id}}
    </span>

    <a class="product-grid-item-images"
      href="{{pdpPath}}"
      data-event-category="grid"
      data-event-action="productClick"
      data-event-label="grid product click"
      data-event-value="{{_id}}">

      <div class="product-primary-images {{#unless isVisible}}not-visible{{/unless}}">
        {{#with media}}
          <span class="product-image" style="background-image: url('{{url store='large'}}')"></span>
        {{else}}
          <span class="product-image" style="background-image: url(/resources/placeholder.gif)"></span>
        {{/with}}

        {{#unless isVisible}}
          <div class="prodcut-grid-overlay"></div>
        {{/unless}}
      </div>

      {{#if additionalMedia}}
        {{#if isMediumWeight}}
          <div class="product-additional-images {{#unless isVisible}}not-visible{{/unless}}">
            {{#each additionalMedia}}
              <span class="product-image" style="background-image: url('{{url store='medium'}}')"></span>
            {{/each}}

            {{#unless isVisible}}
              <div class="prodcut-grid-overlay"></div>
            {{/unless}}
          </div>
        {{/if}}
      {{/if}}

    </a>

    <div class="grid-alerts">
      {{> gridNotice}}
      {{> gridControls controlProps}}
    </div>

    {{> gridContent}}
  </li>
</template>
