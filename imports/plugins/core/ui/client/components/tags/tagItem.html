

<template name="tagItem">
  {{#if blank}}
    {{> tagBlank (tagBlankProps tag)}}
  {{else}}
    {{#if isEditing}}
      {{> tagEditable (tagEditableProps tag)}}
    {{else}}
      {{> tagLink}}
    {{/if}}
  {{/if}}
</template>

<template name="tagLink">
  {{#with tag}}
    <a class="rui tag link" href="{{pathFor "tag" slug=slug}}" data-id="{{_id}}">{{name}}</a>
  {{/with}}
</template>

<template name="tagBlank">
  <div class="rui item edit create">
    <div class="rui tag edit create">
      {{> button icon="tag"}}
      <div class="autosuggest-wrapper">
        {{> React AutosuggestInput}}
      </div>
      {{> button type="submit" icon="plus" status="danger" onClick=handleTagRemove}}
    </div>
  </div>
</template>

<template name="tagEditable">
  <div class="rui item edit draggable">
    <div class="rui tag edit draggable {{className}}" data-id={{tag._id}}>
      {{> button icon="bars" className="js-drag-handle" status="default"}}
      <div class="autosuggest-wrapper">
        {{> React AutosuggestInput}}
      </div>
      <button class="hidden" type="submit">Update Tag</button>
      {{#if controls}}
        {{#each control in controls}}
          {{> button control}}
        {{/each}}
      {{/if}}
      {{> button icon="times-circle" status="danger" onClick=handleTagRemove}}
      {{#if selectable}}
        {{> button icon="chevron-down" status="default" onClick=handleTagSelect}}
      {{/if}}
    </div>
  </div>
</template>
