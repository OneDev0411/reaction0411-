<template name="emailTemplatesDashboard">
  <div class="panel panel-default">
    <div class="panel-body">
      <table class="table table-striped">
        <thead>
          <tr class="info">
            <th>{{i18n "templates.method" "Method"}}</th>
            <th>{{i18n "templates.templateName" "Template Name"}}</th>
            <th>{{i18n "templates.type" "Type"}}</th>
            <th>{{i18n "templates.language" "Language"}}</th>
            <th>{{i18n "templates.enabled" "Enabled"}}</th>
            <th><i class="fa fa-plus pull-right add-shipping-method" title="{{i18n 'templates.addTemplate' 'Add email template'}}" data-event-action="addShippingMethod"></i></th>
          </tr>
        </thead>
        <tbody>
        {{#each emailTemplate}}
          <tr class="edit-shipping-method" data-event-action="editEmailTemplate">
            <td>{{name}}</td>
            <td>{{title}}</td>
            <td>{{type}}</td>
            <td>{{language}}</td>
            <td>
              {{#if enabled}}
                <i class="fa fa-check text-success" title="Enabled"></i>
              {{else}}
                <i class="fa fa-ban text-danger" title="Disabled"></i>
              {{/if}}
            </td>
            <td class="text-right">
              <i class="fa fa-pencil" data-template-id="{{_id}}" title="{{i18n 'templates.edit' 'Edit email template'}}" data-event-action="editEmailTemplate"></i>
              <i class="fa fa-files-o" data-template-id="{{_id}}" title="{{i18n 'templates.duplicate' 'Duplicate email template'}}" data-event-action="duplicateEmailTemplate"></i>
              <i class="fa fa-trash" data-template-id="{{_id}}" title="{{i18n 'templates.delete' 'Delete email template'}}" data-event-action="deleteEmailTemplate"></i>
            </td>
          </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>


<template name="emailTemplateSettings">
  {{#autoForm
    collection=Collections.Templates
    schema=emailTemplateSchema
    id="email-template-edit-form"
    template="bootstrap3-inline"
    doc=this
    }}

    <div class="panel panel-default">
      <div class="panel-heading">Update {{name}} template</div>
      <div class="panel-body">
        <div class="col-md-12 form-group">
          {{>afQuickField name='subject' class="form-control"}}
          {{>afQuickField name='name' class="form-control"}}
          {{>afQuickField name='title' class="form-control"}}
          {{>afQuickField name='language' class="form-control"}}
          {{>afQuickField name='template' label='HTML' class="form-control" type="textarea" rows="10"}}
          {{>afQuickField name='enabled'}}
          {{>afQuickField name='type' class="form-control"}}
          {{>afQuickField name='parser' class="form-control"}}
          {{>afQuickField name='_id' class="form-control"}}
        </div>
      </div>

      <div class="panel-footer">
        <div class="right">
          <button type="submit" class="btn btn-primary">Update</button>
        </div>
      </div>
    </div>

  {{/autoForm}}
</template>
